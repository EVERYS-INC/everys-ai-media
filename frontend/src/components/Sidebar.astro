---
interface Post {
  attributes: {
    title: string;
    slug: string;
  };
}

interface Props {
  recentPosts?: Post[];
}

const { recentPosts = [] } = Astro.props;

// デバッグ用のログ
console.log("Sidebar recentPosts:", JSON.stringify(recentPosts, null, 2));
---

<aside class="bg-gray-100 p-4 rounded-lg">
  <h2 class="text-xl font-bold mb-4">サイドバー</h2>
  <nav>
    <ul>
      <li><a href="/" class="text-blue-600 hover:underline">ホーム</a></li>
      <li><a href="/about" class="text-blue-600 hover:underline">About</a></li>
      <li><a href="/contact" class="text-blue-600 hover:underline">お問い合わせ</a></li>
    </ul>
  </nav>
  <div class="mt-4">
    <h3 class="font-semibold mb-2">最新の投稿</h3>
    {recentPosts.length > 0 ? (
      <ul>
        {recentPosts.map((post) => (
          <li>
            <a href={`/post/${post.attributes.slug}`} class="text-sm text-gray-700 hover:underline">
              {post.attributes.title}
            </a>
          </li>
        ))}
      </ul>
    ) : (
      <p>最新の投稿はありません。</p>
    )}
  </div>
</aside>